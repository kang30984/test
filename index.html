<html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="favicon.ico">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://kang30984.github.io/test/">
    <meta property="og:image" content="https://kang30984.github.io/test/images/zanmang.jpg">
    <meta property="og:description" content="ÌîºÏπ¥Ï∏ÑÍ∞Ä Îì§ÌåêÏùÑ Îõ∞Ïñ¥Îã§ÎãôÎãàÎã§">
    <meta property="og:site_name" content="Îî∞Ïò¥Ìëú ÎßàÎ≤ïÏÇ¨">
    <meta property="og:locale" content="ko_KR">
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <title>QuoteMaker</title>
    <style>
        h1,p{
            display: inline;
        }

        .container{
            width: 100vw;
            height: 100vh;
            display: grid;
            grid-template-rows: auto 1fr auto; /* pikaCanva, item1, itemContainer ÏàòÏßÅ Ï†ïÎ†¨ */
            gap: 1rem; /* ÏÑπÏÖò Í∞Ñ Í∞ÑÍ≤© */
            padding: 1rem; /* Ï†ÑÏ≤¥ Ïª®ÌÖåÏù¥ÎÑà Ìå®Îî© */
            box-sizing: border-box;
        }

        .pikaCanva{
            width: 100%;
            height: 100%;
        }

        .item1{
            width: 100%;
            background-color: #f9f9f9;
            padding: 1rem;
            border-radius: 0.5rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .itemContainer{
            width: 100%;
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .item2, .item3 {
            flex: 1;
            min-width: 300px;
            background-color: #f9f9f9;
            padding: 1rem;
            border-radius: 0.5rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
        }
        
        .textarea-wrapper {
            position: relative;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        
        .textarea-wrapper textarea {
            flex-grow: 1;
            width: 100%;
        }
        
        button {
            cursor: pointer;
        }

        .controls label { 
            display: inline-flex;
            align-items: center;
            margin-right: 0.75rem;
        }
        .controls input[type="radio"], .controls input[type="checkbox"] {
            margin-right: 0.25rem;
        }

    </style>
</head>
<body>
    <div class="container">
        <div class="pikaCanva">
            <canvas id="canvas"></canvas>
        </div> 

         <div class="item1">
            <h1 class="text-xl font-semibold text-gray-700">INPUT</h1>
            <p id="pblock"><!--<label for="pblock">Íµ¨Î∂ÑÏûê ÏÑ†ÌÉù üëâ </label>-->
                    <input type="radio" id="enter" name="group" value="ÏóîÌÑ∞" checked=""> <label for="enter">ÏóîÌÑ∞</label>
                    <input type="radio" id="comma" name="group" value="ÏΩ§Îßà"> <label for="comma">ÏΩ§Îßà</label>
                    <button id="resetButton" class="bg-red-500 hover:bg-red-600 text-white font-semibold py-1 px-3 rounded-md text-xs shadow-sm transition-colors">Î¶¨ÏÖã</button>
                    <label id="lblPika">‚ö°</label>
            </p>
            <br><br>
            <textarea name="taOrigin" id="taOrigin" cols="50" rows="9" placeholder="ÏóîÌÑ∞(New line)Î•º Íµ¨Î∂ÑÏûêÎ°ú Í∞íÏùÑ Î∂ÑÎ¶¨Ìï©ÎãàÎã§

value1
value2
value3
....
...
..
."></textarea>
        </div>

        <div class="itemContainer">
            <div class="item2">
                <h2 class="text-xl font-semibold text-gray-700 mb-2 flex items-baseline">
                    OUTPUT
                    <span id="pCount" class="text-sm text-purple-600 font-semibold ml-2"></span>
                </h2>
                <div class="controls mb-3 text-sm text-gray-600">
                    <label class="mr-3">
                        <input type="checkbox" id="commaCheck" name="commaCheck" checked="" class="mr-1">
                        Comma
                    </label>
                    <label class="mr-2">
                        <input type="radio" id="singleQuote" name="quoteGroup" checked="" class="mr-1">
                        Single
                    </label>
                    <label class="mr-2">
                        <input type="radio" id="doubleQuote" name="quoteGroup" class="mr-1">
                        Double
                    </label>
                    <label>
                        <input type="radio" id="noneQuote" name="quoteGroup" class="mr-1">
                        None
                    </label>
                </div>
                <button id="copyOutputButton" class="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-1 px-3 rounded-md text-xs shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-75">
                    Copy
                </button>
                <div class="textarea-wrapper">
                    <textarea name="taNew" id="taNew" cols="70" rows="10" class="p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-400 focus:border-transparent"></textarea>
                </div>
            </div>
        
            <div class="item3">
                <h2 class="text-xl font-semibold text-gray-700 mb-2">CUSTOM</h2>
                <p id="pblockCustom" class="controls mb-3 text-sm text-gray-600">
                    <input type="radio" id="username" name="group2" value="ÎåÄÎ¨∏Ïûê" checked="" class="mr-1"> <label for="username" class="mr-3">Upper case</label>
                    <input type="radio" id="userid" name="group2" value="ÏÜåÎ¨∏Ïûê" class="mr-1"> <label for="userid">Lower case</label>
                </p>
                <button id="copyCustomButton" class="bg-indigo-500 hover:bg-indigo-600 text-white font-semibold py-1 px-3 rounded-md text-xs shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:ring-opacity-75">
                    Copy
                </button>
                <div class="textarea-wrapper">
                    <textarea name="taCus" id="taCus" cols="70" rows="10" class="p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-400 focus:border-transparent"></textarea>
                </div>
            </div>
        </div>       
    </div>


<script type="text/javascript">
    let quoteType = '\'';
    let commaType = true;
    let origin = document.querySelector('#taOrigin'); //INPUT textarea
    let newOutput = document.querySelector('#taNew'); //OUTPUT textarea
    let newCustom = document.querySelector('#taCus'); //CUSTOM textarea
    let radios = document.querySelectorAll('input[type=radio][name="group"]'); //Íµ¨Î∂ÑÏûê ÏÑ†ÌÉù ÎùºÎîîÏò§
    let radios2 = document.querySelectorAll('input[type=radio][name="group2"]'); //ÏÑ†ÌÉù ÎùºÎîîÏò§
    let radios3 = document.querySelectorAll('input[type=radio][name="quoteGroup"]'); //Îî∞Ïò¥Ìëú Ï¢ÖÎ•ò ÏÑ†ÌÉù ÎùºÎîîÏò§
    let reset = document.querySelector('#pblock > button'); //Î¶¨ÏÖãÎ≤ÑÌäº
    let outputCount = document.querySelector('#pCount'); //OUTPUT Í∞úÏàò
    let pikalabel = document.querySelector('#lblPika');
    let commaCheck = document.querySelector('#commaCheck');

    let test = document.querySelector('#test');

    changePlaceholer(); //ÌîåÎ†àÏù¥Ïä§ÌôÄÎçî ÏÑ∏ÌåÖ

    origin.addEventListener('input', function(){
        changeQuote(origin.value);
    });

    reset.addEventListener('click', function(){
        deleteAll();

        if(pikas){
            //pika.jumpingDecision();
            //pikas = [new Pikachu()];
            _.map(pikas, pika => pika.jumpingDecision());
        }
    });

    _.map(radios, x => 
        x.addEventListener('change', function(){
            changeQuote(origin.value);
        })
    );

    _.map(radios2, x => 
        x.addEventListener('change', function(){
            customQuery(newOutput.value);
        })
    );

    _.map(radios3, x => 
        x.addEventListener('change', function(){
            if(radios3[0].checked){
                quoteType = '\'';
            } else if (radios3[1].checked){
                quoteType = '\"';
            } else {
                quoteType = '';
            }
            changeQuote(origin.value);
        })
    );

    commaCheck.addEventListener('change', function(){
        if(commaCheck.checked) {
            commaType = true;
        } else {
            commaType = false;
        }
        changeQuote(origin.value);
    });

    document.addEventListener('DOMContentLoaded', () => {
        setupClipboardCopy('copyOutputButton', 'taNew');
        setupClipboardCopy('copyCustomButton', 'taCus');
    });

    //ÏòàÏ†ú ÏÑ∏ÌåÖ
    function changePlaceholer(){
        if(radios[0].checked){
            origin.placeholder = 'ÏóîÌÑ∞(New line)Î•º Íµ¨Î∂ÑÏûêÎ°ú Í∞íÏùÑ Î∂ÑÎ¶¨Ìï©ÎãàÎã§\r\n\nvalue1\r\nvalue2\r\nvalue3\r\n....\r\n...\r\n..\r\n.';
        } else{
            origin.placeholder = 'ÏΩ§ÎßàÎ•º Íµ¨Î∂ÑÏûêÎ°ú Í∞íÏùÑ Î∂ÑÎ¶¨Ìï©ÎãàÎã§\r\n\nüëâ value1, value2, value3...';
        }
    }

    //ÏûëÏùÄ Îî∞Ïò¥ÌëúÎûë ÏΩ§Îßà Î∂ôÏù¥Í∏∞
    function changeQuote(val){
        changePlaceholer();

        if(val){
            let str = _.replace(val, / /g, '');
            let splitter = ',';
            if(document.querySelector('#enter').checked){
                splitter = '\n';
            } else{
                str = _.replace(str, /(?:\r\n|\r|\n)/g, '');
            }

            let split  = _.compact(_.split(str, splitter));
            let newStr = _.map(split, x => quoteType + x + quoteType+'\n');
            
            newOutput.value = _.trimEnd(newStr);//.replace(/\n+$/,''); //ÎßàÏßÄÎßâ ÏóîÌÑ∞Ï†úÍ±∞

            if(!commaType){
                newOutput.value = newOutput.value.replace(/,/g, '');
            }

            // newOutput.scrollTop = newOutput.scrollHeight; 

            outputCount.innerText = 'üíÅ&zwj;‚ôÄÔ∏è' + beCool(split.length);
            customQuery(newOutput.value);
        } else{
            deleteAll();
        }
    }

    //ÏøºÎ¶¨ ÎßåÎì§Í∏∞
    function customQuery(val){
        if(!val)return;

        let username = document.querySelector('#username');
        let cond = username.checked?'UserName':'UserId';
        let split = _.split(val, '\n');
        let rst = _.map(split, (x, y) => (_.eq(y, 0)?'':'') + _.replace(x, ',', '') + '\n'); //0Î≤àÏß∏ÏóêÎßå ÌÉ≠ÏùÑ ÎÑ£Í≥† ÏãúÏûëÌï®
//         let query = 
// `SELECT
// \t*
// FROM HBEdu_Passport.dbo.uIv_Statistics_User AS us WITH(NOLOCK)
// WHERE ${cond} IN (
// ${_.trimEnd(rst)}
// )`;

        newCustom.value = username.checked? _.trimEnd(rst).toUpperCase() : _.trimEnd(rst).toLowerCase();

        if(!commaType){
            newCustom.value = newCustom.value.replace(/,/g, '');
        }        
        // newCustom.scrollTop = newCustom.scrollHeight; 
    }

    //ÏûÖÎ†•Í∞í Î©ãÏûàÍ≤å Î∞òÌôò
    function beCool(val) {
        if (val === undefined 
            || val === null 
            || val === '') {
            return val;
        }

        if (typeof val !== 'string') {
            val = val.toString();
        }

        if (val === '10') {
            return 'üîü';
        }

        return val
        .replace(/0/g, '0Ô∏è‚É£')
        .replace(/1/g, '1Ô∏è‚É£')
        .replace(/2/g, '2Ô∏è‚É£')
        .replace(/3/g, '3Ô∏è‚É£')
        .replace(/4/g, '4Ô∏è‚É£')
        .replace(/5/g, '5Ô∏è‚É£')
        .replace(/6/g, '6Ô∏è‚É£')
        .replace(/7/g, '7Ô∏è‚É£')
        .replace(/8/g, '8Ô∏è‚É£')
        .replace(/9/g, '9Ô∏è‚É£');
  }

    //Ìú¥ÏßÄÌÜµ
    function deleteAll(){
            origin.value = '';
            newOutput.value = '';
            newCustom.value = '';
            outputCount.innerText = '';
    }

    //ÌÅ¥Î¶ΩÎ≥¥Îìú Î≥µÏÇ¨
    function setupClipboardCopy(buttonId, textareaId) {
        const copyButton = document.getElementById(buttonId);
        const textElement = document.getElementById(textareaId);

        if (!copyButton || !textElement) {
            console.warn(`ÌÅ¥Î¶ΩÎ≥¥Îìú ÏöîÏÜåÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§: ${buttonId} ÎòêÎäî ${textareaId}`);
            return;
        }

        const originalButtonText = copyButton.textContent;
        const originalButtonClasses = [...copyButton.classList];

        copyButton.addEventListener('click', async () => {
            const textToCopy = textElement.value;

            // ÌòÑÏû¨ Î≤ÑÌäºÏùò Í∏∞Î≥∏ Î∞∞Í≤ΩÏÉâ Í∞ÄÏ†∏Ïò§Í∏∞ (Ï¢Ä Îçî Ïú†Ïó∞ÌïòÍ≤å)
            let currentBgClass = '';
            let currentHoverBgClass = '';
            originalButtonClasses.forEach(cls => {
                if(cls.startsWith('bg-') && !cls.includes('hover:')) currentBgClass = cls;
                if(cls.startsWith('hover:bg-')) currentHoverBgClass = cls;
            });


            if (!textToCopy) {
                copyButton.textContent = 'Empty!';
                copyButton.classList.remove(currentBgClass, currentHoverBgClass, 'bg-green-500', 'hover:bg-green-600');
                copyButton.classList.add('bg-yellow-500', 'hover:bg-yellow-600');
                setTimeout(() => {
                    copyButton.textContent = originalButtonText;
                    copyButton.classList.remove('bg-yellow-500', 'hover:bg-yellow-600');
                    if(currentBgClass) copyButton.classList.add(currentBgClass);
                    if(currentHoverBgClass) copyButton.classList.add(currentHoverBgClass);
                }, 1000);
                return;
            }

            try {
                await navigator.clipboard.writeText(textToCopy);
                copyButton.textContent = 'Copied!';
                copyButton.classList.remove(currentBgClass, currentHoverBgClass);
                copyButton.classList.add('bg-green-500', 'hover:bg-green-600'); // ÏÑ±Í≥µ Ïãú Ï¥àÎ°ùÏÉâ

                setTimeout(() => {
                    copyButton.textContent = originalButtonText;
                    copyButton.classList.remove('bg-green-500', 'hover:bg-green-600');
                    if(currentBgClass) copyButton.classList.add(currentBgClass);
                    if(currentHoverBgClass) copyButton.classList.add(currentHoverBgClass);
                }, 1000);

            } catch (err) {
                console.error('ÌÅ¥Î¶ΩÎ≥¥Îìú Î≥µÏÇ¨ Ïã§Ìå®:', err);
                copyButton.textContent = 'Failed!';
                copyButton.classList.remove(currentBgClass, currentHoverBgClass, 'bg-green-500', 'hover:bg-green-600');
                copyButton.classList.add('bg-red-500', 'hover:bg-red-600'); // Ïã§Ìå® Ïãú Îπ®Í∞ÑÏÉâ
                 setTimeout(() => {
                    copyButton.textContent = originalButtonText;
                    copyButton.classList.remove('bg-red-500', 'hover:bg-red-600');
                    if(currentBgClass) copyButton.classList.add(currentBgClass);
                    if(currentHoverBgClass) copyButton.classList.add(currentHoverBgClass);
                }, 1000);
            }
        });
    }

    var canvas = document.getElementById('canvas');
    var ctx = canvas.getContext('2d');
    let arrayBuffer;
    const layer1 = new Image();
    const layer2 = new Image();
    layer1.src = 'back.jpg';
    layer2.src = 'back.jpg';

    ctx.drawImage(layer1, 0, 0, canvas.width, canvas.height);
    ctx.drawImage(layer2, canvas.width, 0, canvas.width, canvas.height);

    let layer1X = 0;
    let layer2x = canvas.width;
    const layer1Speed = 1;
    const layer2Speed = 1;

    const img = new Image();

    var timer = 0; //ÌÉÄÏù¥Î®∏
    
    fetch('https://kang30984.github.io/test/images/zanmang.jpg')
    .then(response => response.blob())
    .then(blob => blob.arrayBuffer())
    .then(arrayBuffer => {
        const newBlob = new Blob([arrayBuffer], { type: 'image/png' });
        const url = URL.createObjectURL(newBlob);
        img.src = url;
        //console.log(url);
    })
    .catch(error => {
        img.src = 'https://kang30984.github.io/test/images/zanmang.jpg'; 
    });

    
    class Pikachu{
        constructor(){
            this.x = 0; //ÌîºÏπ¥Ï∏Ñ xÏ¢åÌëú
            this.y = 80; //ÌîºÏπ¥Ï∏Ñ yÏ¢åÌëú
            this.width = 30; //ÌîºÏπ¥Ï∏Ñ Í∏∏Ïù¥
            this.height = 30; //ÌîºÏπ¥Ï∏Ñ ÎÜíÏù¥
            this.speed = 1; //ÏÜçÎèÑ
            this.angle = 0; //ÌöåÏ†ÑÍ∞Å
            this.lucky = false; //ÎèåÏïÑÏù¥
            this.superLucky = false; //ÏÉÅÎèåÏïÑÏù¥

            this.jumpPoint = 80; //Ï†êÌîÑÌï† ÏãúÍ∞Ñ
            this.jumpTimer = 0; //Ï†êÌîÑÏ§ë ÌÉÄÏù¥Î®∏
            this.jumpSwitch = false; //Ï†êÌîÑÌï†ÏßÄÎßêÏßÄ
            this.IsJumping = false; //Ï†êÌîÑÏ§ëÏù∏ÏßÄ

            this.hero = false;
            this.name = 'Ï°∞ÏÉÅÎãò';
        }

        //Í∑∏Î†§Îùº
        draw(){
            img.onload = () => {
                ctx.drawImage(img, this.x - this.width, this.y);
            }

            ctx.font = 'bold 13px ÎßëÏùÄÍ≥†Îîï';
            
            if(this.hero){
                //ctx.fillRect(this.x - this.width, this.y, 30, 30);
                ctx.fillText('ÎßâÎë•Ïù¥', this.x - this.width + 5, this.y - 3);
            } else{
                if(_.size(this.name) > 0) {
                    ctx.fillText(this.name, this.x - this.width, this.y - 3);
                }
            }
            
            ctx.drawImage(img, this.x - this.width, this.y);
            
        }

        //ÎèåÏïÑÎùº
        rotate(){
            if(this.superLucky){
                this.angle++; //Îπ†Î•∏ÌöåÏ†Ñ
            } else {
                this.angle+= Math.PI / 18; //ÎäêÎ¶∞ÌöåÏ†Ñ
            }
            
            ctx.save();
            ctx.translate(this.x - this.width, this.y);
            ctx.rotate(this.angle);
            ctx.drawImage(img, -img.width/2, -img.height/2);
            ctx.restore();   

            ctx.font = 'bold 13px ÎßëÏùÄÍ≥†Îîï';
            if(this.hero){
                ctx.fillText('ÎßâÎë•Ïù¥', this.x - this.width, this.y-20);
            } else{
                if(_.size(this.name) > 0) {
                    ctx.fillText(this.name, this.x - this.width, this.y-20);
                }
            }
        }

        //Í±∏Ïñ¥Îùº
        forward(){
            this.x+=this.speed;
        }

        //Îõ∞Ïñ¥Îùº
        jumpUp(val){
            this.y-=val;
        }

        //ÎÇ¥Î†§ÏôÄÎùº
        jumpDown(val){
            this.y+=val;
        }

        //Ï†êÌîÑÌï† Í≤∞Ïã¨
        jumpingDecision(){
            if(!this.IsJumping){
                this.jumpSwitch = true;
                this.jumpPoint = _.random(80, 500);
                this.speed = _.random(1, 4);
                this.lucky = _.random(1,10) % 2 == 0;
                this.superLucky = _.random(1, 1000) % 10 == 0;

                pikalabel.innerText = '‚ö°'; //Î∞±ÎßåÎ≥ºÌä∏
                //console.log('‚ö°');
            }
        }
    }

    //ÌîºÏπ¥Ï∏Ñ ÌÅ¥Î¶≠
    // canvas.addEventListener('click', function(e){
    //     const x = e.offsetX;
    //     const y = e.offsetY;
    //     const pixel = ctx.getImageData(x, y, 1, 1);
    //     //console.log(pixel.data[3]);
    //     if(pixel.data[3] != 0){
    //         //console.log('image');
    //         pika.jumpingDecision();
    //     }
    // });
    
    const randomHexColor = () => {
                    const red = _.padStart(_.random(0, 255).toString(16), 2, '0');
                    const green = _.padStart(_.random(0, 255).toString(16), 2, '0');
                    const blue = _.padStart(_.random(0, 255).toString(16), 2, '0');
                    return `#${red + green + blue}`;
    };

    //ÌîºÏπ¥Ï∏Ñ Îì±Ïû•
    var pikas = [new Pikachu()]; //new Pikachu();

    //ÌîºÏπ¥Ï∏Ñ Ï∂úÎèô
    function animate(){
        requestAnimationFrame(animate);
        timer++;
        
        ctx.clearRect(0,0, canvas.width, canvas.height);
        
        layer1X -= layer1Speed;
        if (layer1X <= -canvas.width) {
            layer1X = canvas.width;
        }

        layer2x -= layer2Speed;
        if (layer2x <= -canvas.width) {
            layer2x = canvas.width;
        }

        // console.log(layer1X, layer2x);
        ctx.drawImage(layer1, layer1X, 0, canvas.width, canvas.height);
        ctx.drawImage(layer2, layer2x, 0, canvas.width, canvas.height);

        if(_.findLast(pikas).superLucky) {
            let newPika = new Pikachu();
            newPika.hero = true;
            pikas[_.size(pikas) - 1].hero = false;
            newPika.name = '';
            pikas = _.concat(pikas, newPika);
        }
        _.map(pikas, (pika, idx) => {

        
            if(pika.x > canvas.width){
                pikas[idx].x = 0 - pika.width;
            }

            if(timer % pika.jumpPoint == 0){
                // console.log('ÌîºÏπ¥ÌîºÏπ¥', timer);
                pika.jumpingDecision();
            }

            if(pika.jumpSwitch){
                if(pika.y >= 10){
                    pika.IsJumping = true;
                    pika.jumpUp(3);
                    pika.jumpTimer++;
                    
                    // console.log('Ï†êÌîÑÏ§ë',pika.y, jumpTimer);
                }
            }

            if(pika.IsJumping && pika.jumpTimer >= 17 ){
                pika.jumpSwitch = false;
                // console.log('Ï†êÌîÑÎÅù', pika.y, jumpSwitch);

                if(pika.y < 80){
                    pika.jumpDown(3);
                } else{
                    pika.IsJumping = false;
                    pika.jumpTimer = 0;
                    pikalabel.innerText = '';
                }
            }

            //ÏïûÏúºÎ°ú Í∞ÄÍ∏∞
            pika.forward();

            //Îí§Îö±Îí§Îö± Ïä§ÌÖùÎ∞üÍ∏∞
            if(!pika.jumpSwitch && !pika.IsJumping && timer % 10 == 1){
                if(pika.y <= 80){
                    pika.jumpDown(2);
                } else{
                    pika.jumpUp(2);
                }
            }

            //ÌîºÏπ¥Ï∏Ñ Ïö¥ Ï¢ãÏùÑ ÎïåÎßå ÎèåÎ©¥ÏÑú Ï†êÌîÑÌï®
            if(!pika.IsJumping || !pika.lucky){
                pika.draw();
            } else{
                pika.rotate();
            }

        });
    }

    animate();
</script>

</body></html>